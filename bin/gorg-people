#!/bin/bash
#
# Saves list of all people's GitHub id to a file.
#
# Usage: gorg-people <org-name>
#
# Example: gorg-people neetozone

if [ -z "$1" ]; then
  echo "Error: Organization name required"
  echo "Usage: $0 <org-name>"
  exit 1
fi

ORG_NAME="$1"
OUTPUT_FILE=~/"${ORG_NAME}_members.txt"

echo "Fetching members from organization: $ORG_NAME"
gh api "orgs/$ORG_NAME/members" --paginate | jq -r '.[].login' > "$OUTPUT_FILE"

echo "Members saved to $OUTPUT_FILE"
